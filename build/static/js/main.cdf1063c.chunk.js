(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t){},158:function(e,t,a){e.exports=a(205)},201:function(e,t){},204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a(14),i=a(143),l=a(288),s=a(53),u=a(125),m=a(126),d=a(8),g=a(24),p=a(6),E={currentPage:"",currentTab:0,currentEditTab:0,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,alert:null,time:Date.now(),commissioningData:null,fetchingCommissioningData:!1,currentTracker:null,currentTrackerInfo:null,xbeeResponse:[],controlledTrackers:[],editedTrackers:[],SPAParameters:null,stowAngles:null,sendingSPAParameters:!1,sendingStowAngles:!1,gettingSPAParameters:!1,gettingStowAngles:!1,addingTrackers:!1,sensors:[],responseQueue:[],listen:!1},S=function(e,t){for(var a=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&a.push(e[n]);return a};var h=Object(s.c)({app:function(e,t){if("undefined"===typeof e)return E;switch(t.type){case"time":return Object(p.a)({},e,{time:t.json.time});case"SET_CURRENT_TRACKER":return Object(p.a)({},e,{currentTracker:t.trackerID});case"SET_RESPONSE_LISTENER":return Object(p.a)({},e,{listen:!0});case"SEND_SPA_PARAMETERS_REQUEST":return Object(p.a)({},e,{sendingSPAParameters:!0,responseQueue:[]});case"SEND_STOW_ANGLES_REQUEST":return Object(p.a)({},e,{sendingStowAngles:!0,responseQueue:[]});case"ui/rover/response":if(e.listen)return e.editedTrackers.length===e.responseQueue.length+1?Object(p.a)({},e,{responseQueue:[].concat(Object(g.a)(e.responseQueue),[t.json]),listen:!1}):Object(p.a)({},e,{responseQueue:[].concat(Object(g.a)(e.responseQueue),[t.json])});case"GET_SENSORS_SUCCESS":return Object(p.a)({},e,{sensors:t.json.Result});case"REMOVE_SENSOR_SUCCESS":return Object(p.a)({},e,{alert:{type:"success",message:"Removed Sensor Successfully"}});case"ADD_SENSORS_SUCCESS":return Object(p.a)({},e,{alert:{type:"success",message:"Added Sensor Successfully"}});case"CHANGE_PAGE":return Object(p.a)({},e,{currentPage:t.page,responseQueue:[],commandQueue:[]});case"CHANGE_TAB":return Object(p.a)({},e,{currentTab:t.value.value,responseQueue:[],commandQueue:[]});case"CHANGE_EDIT_TAB":return Object(p.a)({},e,{currentEditTab:t.value.value,responseQueue:[],commandQueue:[]});case"CLEAR_ALERT":return Object(p.a)({},e,{alert:null});case"GET_COMMISSIONING_DATA_REQUEST":return Object(p.a)({},e,{fetchingCommissioningData:!0});case"GET_COMMISSIONING_DATA_SUCCESS":return null===t.json.staticData||0===t.json.staticData.length?Object(p.a)({},e,{fetchingCommissioningData:!1,currentPage:""===e.currentPage?"Dashboard":e.currentPage,commissioningData:null,alert:{type:"warning",message:"Please add trackers"}}):Object(p.a)({},e,{fetchingCommissioningData:!1,currentPage:""===e.currentPage?"Dashboard":e.currentPage,commissioningData:t.json.staticData,currentTracker:t.json.staticData[0].trackerID});case"GET_COMMISSIONING_DATA_FAILURE":return Object(p.a)({},e,{fetchingCommissioningData:!1,currentPage:""===e.currentPage?"Dashboard":e.currentPage,alert:{type:"error",message:"Error loading commissioning data"}});case"GET_TIMEZONE_SUCCESS":return null!==t.json.timeZone?Object(p.a)({},e,{timeZone:t.json.timeZone}):e;case"GET_TIMEZONE_FAILURE":return Object(p.a)({},e,{alert:{type:"error",message:"Error getting timezone"}});case"SCAN":return Object(p.a)({},e,{currentPage:"Row Controller",currentTab:1});case"GET_CURRENT_TRACKER_INFO_REQUEST":return Object(p.a)({},e);case"GET_CURRENT_TRACKER_INFO_SUCCESS":return Object(p.a)({},e,{currentTrackerInfo:t.json});case"GET_CURRENT_TRACKER_INFO_FAILURE":return Object(p.a)({},e,{alert:{type:"error",message:"Error getting current tracker info"}});case"DISCOVER_SUCCESS":return Object(p.a)({},e,{xbeeResponse:[],alert:{type:"success",message:"Started Scanning"}});case"DISCOVER_FAILURE":return Object(p.a)({},e,{alert:{type:"error",message:"Error starting scan"}});case"ui/rover/scan":var a=null;return a=null===e.commissioningData?[].concat(Object(g.a)(e.xbeeResponse),[t.json]):0===e.commissioningData.filter(function(e){return t.json.DID===e.deviceID}).length?[].concat(Object(g.a)(e.xbeeResponse),[t.json]):Object(g.a)(e.xbeeResponse),Object(p.a)({},e,{xbeeResponse:a});case"ADD_TRACKERS_REQUEST":return Object(p.a)({},e,{addingTrackers:!0});case"ADD_TRACKERS_SUCCESS":var n=S(e.xbeeResponse,t.devices);return Object(p.a)({},e,{xbeeResponse:n,addingTrackers:!1,alert:{type:"success",message:"Tracker(s) added"}});case"ADD_TRACKERS_FAILURE":return Object(p.a)({},e,{addingTrackers:!1,alert:{type:"error",message:"Error adding trackers"}});case"SET_EDITED_TRACKERS":return Object(p.a)({},e,{editedTrackers:t.trackers});case"SET_CONTROLLED_TRACKERS":return Object(p.a)({},e,{controlledTrackers:t.trackers});case"ui/rover/spa":var r=t.json.DID,o=Object(p.a)({},e.SPAParameters,Object(d.a)({},r,t.json));return Object(p.a)({},e,{SPAParameters:o,gettingSPAParameters:!1});case"ui/rover/stowangles":return Object(p.a)({},e,{stowAngles:t.json,gettingStowAngles:!1});case"GET_STOW_ANGLES_REQUEST":return Object(p.a)({},e,{gettingStowAngles:!0});case"GET_STOW_ANGLES_FAILURE":return Object(p.a)({},e,{gettingStowAngles:!1,alert:{type:"error",message:"Error getting stow angles"}});case"GET_SPA_PARAMETERS_REQUEST":return Object(p.a)({},e,{gettingSPAParameters:!0});case"GET_SPA_PARAMETERS_FAILURE":return Object(p.a)({},e,{gettingSPAParameters:!1,alert:{type:"error",message:"Error getting SPA parameters"}});case"SEND_SPA_PARAMETERS_FAILURE":return Object(p.a)({},e,{sendingSPAParameters:!1,alert:{type:"error",message:"Error setting SPA parameters"}});case"SEND_SPA_PARAMETERS_SUCCESS":return Object(p.a)({},e,{sendingSPAParameters:!1});case"SEND_STOW_ANGLES_FAILURE":return Object(p.a)({},e,{sendingStowAngles:!1,alert:{type:"error",message:"Error setting stow angles"}});case"SEND_STOW_ANGLES_SUCCESS":return Object(p.a)({},e,{sendingStowAngles:!1});default:return e}}}),f=Object(m.createLogger)(),b=Object(s.d)(h,Object(s.a)(u.a,f)),A=a(15),v=a(16),y=a(18),T=a(17),O=a(19),C=a(254),k=a(291),_=a(248),D=a(289),R=a(280),N=a(208),P=a(128),j=a.n(P),w=a(251),I=a(207),x=a(252),L=a(253),U=a(129),M=a.n(U),G=a(130),F=a.n(G),W=a(255),Q=a(51),B=a(4),Z=a(131),H=a.n(Z),V=a(292),J=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={mobileOpen:!1},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme,o=t.children,c=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar},r.a.createElement("img",{src:"img/Voyager logo - large- no bg.png",height:"60px",width:"70%",alt:""})),r.a.createElement(_.a,null),r.a.createElement(w.a,null,["Dashboard","Row Controller","Zone Controller","Sensors","About"].map(function(t,n){return r.a.createElement(I.a,{button:!0,key:t,onClick:function(){return e.props.changePage(t)},selected:e.props.currentPage===t,classes:{selected:a.selected}},r.a.createElement(x.a,null,n%2===0?r.a.createElement(j.a,null):r.a.createElement(M.a,null)),r.a.createElement(L.a,{disableTypography:!0,primary:t}))})),r.a.createElement(_.a,null));return r.a.createElement("div",{className:a.root},r.a.createElement(k.a,null),r.a.createElement(C.a,{position:"fixed",color:"primary",className:a.appBar},r.a.createElement(W.a,null,r.a.createElement(N.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:a.menuButton},r.a.createElement(F.a,null)),r.a.createElement(Q.a,{variant:"h5",color:"inherit",noWrap:!0},"Voyager Zone Controller"),r.a.createElement(V.a,{icon:r.a.createElement(H.a,null),style:{marginLeft:"auto",backgroundColor:"white"},label:"".concat(new Date(new Date(Number(this.props.time)).toLocaleString("en-US",{timeZone:this.props.timeZone})).getHours()," : ").concat(new Date(new Date(Number(this.props.time)).toLocaleString("en-US",{timeZone:this.props.timeZone})).getMinutes())}))),r.a.createElement("nav",{className:a.drawer},r.a.createElement(R.a,{mdUp:!0,implementation:"css"},r.a.createElement(D.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:a.drawerPaper}},c)),r.a.createElement(R.a,{smDown:!0,implementation:"css"},r.a.createElement(D.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},c))),r.a.createElement("main",{className:a.content},o))}}]),t}(r.a.Component);var K=Object(c.b)(function(e){var t=e.app;return{currentPage:t.currentPage,time:t.time,timeZone:t.timeZone}},function(e){return{changePage:function(t){e({type:"CHANGE_PAGE",page:t})}}})(Object(B.a)(function(e){return{root:{display:"flex",height:"100%"},drawer:Object(d.a)({},e.breakpoints.up("md"),{width:240,flexShrink:0}),appBar:Object(d.a)({marginLeft:240},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(d.a)({marginRight:20},e.breakpoints.up("md"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3),paddingTop:88},selected:{backgroundColor:"#54AAB3 !important",color:"#ffffff !important"}}},{withTheme:!0})(J)),z=a(263),q=a(257),X=a(104),$=a(258),Y=a(262),ee=a(261),te=a(259),ae=a(260),ne=function(e){function t(){return Object(A.a)(this,t),Object(y.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.commissioningData,c=t.currentTracker;return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{container:!0,direction:"column",className:a.root},r.a.createElement(Q.a,{variant:"h5"},"Tracker List"),r.a.createElement($.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ee.a,null,"TrackerID"),r.a.createElement(ee.a,null,"Status"))),r.a.createElement(Y.a,null,o&&o.map(function(t){return r.a.createElement(ae.a,{hover:!0,key:t.trackerID,onClick:function(){return e.props.setCurrentTracker(t.trackerID)},style:{cursor:"pointer"},selected:t.trackerID===c,classes:{selected:a.selected}},r.a.createElement(ee.a,null,t.trackerID),r.a.createElement(ee.a,null,"Reachable"))})))))}}]),t}(r.a.Component);var re=Object(c.b)(function(e){var t=e.app;return{commissioningData:t.commissioningData,currentTracker:t.currentTracker}},function(e){return{setCurrentTracker:function(t){e({type:"SET_CURRENT_TRACKER",trackerID:t})}}})(Object(B.a)(function(e){return{root:{height:"100%",width:"100%",padding:24},selected:{backgroundColor:"#54aab3 !important",color:"white"}}})(ne)),oe={setWifiInfo:function(e,t){var a={method:"POST",mode:"cors",body:JSON.stringify({ssid:e,password:t})};return fetch("".concat(ce,"/setWifiInfo"),a).then(le)},uploadDriver:function(e,t,a){var n=new FormData;n.append("file",e);var r={method:"POST",mode:"cors",body:n};return fetch("".concat(ce,"/sensors/addDriver?type=").concat(t,"&model=").concat(a),r).then(le)},selectSensor:function(e,t,a,n){var r={method:"POST",mode:"cors",body:JSON.stringify({windSensor:e,rainSensor:t,floodSensor:a,snowSensor:n})};return fetch("".concat(ce,"/set/sensors"),r).then(le)},uploadKey:function(e){var t=new FormData;t.append("file",e);var a={method:"POST",mode:"cors",body:t};return fetch("".concat(ce,"/loadBigQueryKey"),a).then(le)},setWindAddress:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({deviceAddress:e})};return fetch("".concat(ce,"/set/windSensorSettings"),t).then(le)},getWindAddress:function(){return fetch("".concat(ce,"/get/windSensorSettings"),{method:"GET",mode:"cors",body:null}).then(le)},caliberate:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({sensor:e})};return fetch("".concat(ce,"/calibrateSensor"),t).then(le)},sendCommand:function(e,t){var a={method:"POST",mode:"cors",body:JSON.stringify({DID:e,CMD:"HMNM",VALUES:t})};return fetch("".concat(ce,"/rover/control"),a).then(le)},sendStow:function(e,t){var a={method:"POST",mode:"cors",body:JSON.stringify({DID:e,CMD:"HMOD",MODE:t})};return fetch("".concat(ce,"/rover/control"),a).then(le)},getCommissioningData:function(){return fetch("".concat(ce,"/getCommissioningData"),{method:"GET",mode:"cors",body:null}).then(le)},getCurrentTrackerInfo:function(e){return fetch("".concat(ce,"/getCurrentTrackerInfo?id=").concat(e),{method:"GET",mode:"cors",body:null}).then(le)},triggerDiscovery:function(){var e={method:"POST",mode:"cors",body:JSON.stringify({CMD:"HINF",DID:"00000"})};return fetch("http://".concat(ie,"/sendCommand"),e).then(le)},setPanID:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({panID:e})};return console.log(e),fetch("http://".concat(ie,"/settings/xbeePanID "),t).then(le)},threshold:function(e,t,a,n,r,o){var c={method:"POST",mode:"cors",body:JSON.stringify({maxWindSpeed:e,maxRainFall:t,meanWindSpeed:a,windSpeedTimer:n,maxFloodLevel:r,maxSnowFall:o})};return fetch("".concat(ce,"/set/threshold"),c).then(le)},heartBeat:function(e,t,a){var n={method:"POST",mode:"cors",body:JSON.stringify({enabled:e,interval:t,maxMsgs:a})};return fetch("".concat(ce,"/set/heartBeatSettings"),n).then(le)},setTimeZone:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({timeZone:e})};return fetch("".concat(ce,"/set/timeZone"),t).then(le)},getHeartBeat:function(){return fetch("".concat(ce,"/get/heartBeatSettings"),{method:"GET",mode:"cors",body:null}).then(le)},getThreshold:function(){return fetch("".concat(ce,"/get/threshold"),{method:"GET",mode:"cors",body:null}).then(le)},getPanID:function(){return fetch("http://".concat(ie,"/gettings/xbeePanID"),{method:"GET",mode:"cors",body:null}).then(le)},getFrequency:function(){return fetch("".concat(ce,"/get/requestFrequency"),{method:"GET",mode:"cors",body:null}).then(le)},setFrequency:function(e,t){var a={method:"POST",mode:"cors",body:JSON.stringify({powerRequestTimePeriod:e,statusRequestTimePeriod:t})};return fetch("".concat(ce,"/set/requestFrequency"),a).then(le)},getTimeZone:function(){return fetch("".concat(ce,"/get/timeZone"),{method:"GET",mode:"cors",body:null}).then(le)},getTime:function(){return fetch("".concat(ce,"/get/time"),{method:"GET",mode:"cors",body:null}).then(le)},discover:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({DID:e})};return fetch("".concat(ce,"/scan"),t).then(le)},addTrackers:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({devices:e})};return fetch("".concat(ce,"/addDiscoveredDevices"),t).then(le)},removeTrackers:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({DIDs:e})};return fetch("".concat(ce,"/removePairedDevices"),t).then(le)},sendSPAParameters:function(e,t,a,n,r,o,c,i,l,s,u,m,d,g,p){var E={method:"POST",mode:"cors",body:JSON.stringify({DID:e,CMD:"HSPA",VALUES:"".concat(t,", ").concat(a,", ").concat(n,", ").concat(r,", ").concat(o,", ").concat(c,", ").concat(i,", ").concat(l,", ").concat(s,", ").concat(u,", ").concat(m,", ").concat(d,", ").concat(g,", 0, ").concat(p)})};return fetch("".concat(ce,"/rover/params/set"),E).then(le)},sendStowAngles:function(e,t,a,n,r,o){var c={method:"POST",mode:"cors",body:JSON.stringify({DID:e,CMD:"HSTO",VALUES:"".concat(t,", ").concat(a,", ").concat(n,", ").concat(r,", ").concat(o)})};return fetch("".concat(ce,"/rover/params/set"),c).then(le)},getSPAParameters:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({DID:e,CMD:"QSPA"})};return fetch("".concat(ce,"/rover/params/get"),t).then(le)},getStowAngles:function(e){var t={method:"POST",mode:"cors",body:JSON.stringify({DID:e,CMD:"QSTO"})};return fetch("".concat(ce,"/rover/params/get"),t).then(le)},getSensors:function(){return fetch("".concat(ce,"/sensors/getParams"),{method:"GET",mode:"cors",body:null}).then(le)},addSensor:function(e,t,a,n){var r={method:"POST",mode:"cors",body:JSON.stringify({port:e,type:t,samplingPeriod:n,model:a})};return fetch("".concat(ce,"/sensors/setParams"),r).then(le)},removeSensor:function(e,t){var a={method:"POST",mode:"cors",body:JSON.stringify({type:t,model:e})};return fetch("".concat(ce,"/sensors/remove"),a).then(le)},enableSensor:function(e,t){var a={method:"POST",mode:"cors",body:JSON.stringify({type:e,model:t})};return fetch("".concat(ce,"/sensors/enable"),a).then(le)},disableSensor:function(e,t){var a={method:"POST",mode:"cors",body:JSON.stringify({type:e,model:t})};return fetch("".concat(ce,"/sensors/disable"),a).then(le)}},ce="http://159.89.169.50:4000",ie="http://".concat(window.location.hostname,":5001");function le(e){return e.json().then(function(t){if(!e.ok){var a=t&&t.message||e.statusText;return Promise.reject(a)}return t})}var se=function(){return r.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#54aab3",color:"white"}},"No Info Found For Selected Tracker.")},ue=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).timer=null,a.state={},a.componentDidMount=function(){a.refresh()},a.componentWillReceiveProps=function(e){e.currentTracker!==a.props.currentTracker&&a.props.getCurrentTrackerInfo(e.currentTracker)},a.refresh=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.props.getCurrentTrackerInfo(a.props.currentTracker),e&&(a.timer=setTimeout(a.refresh,3e4))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.currentTrackerInfo;return null===a?r.a.createElement(se,null):r.a.createElement(q.a,{container:!0,direction:"column",className:t.root},r.a.createElement(Q.a,{variant:"h5",style:{height:"48px"}},"Tracker Details"),r.a.createElement("div",{className:"--"!==a.currentAngle&&(a.currentAngle>58?"angle60":a.currentAngle>56?"angle58":a.currentAngle>54?"angle56":a.currentAngle>52?"angle54":a.currentAngle>50?"angle52":a.currentAngle>48?"angle50":a.currentAngle>46?"angle48":a.currentAngle>44?"angle46":a.currentAngle>42?"angle44":a.currentAngle>40?"angle42":a.currentAngle>38?"angle40":a.currentAngle>36?"angle38":a.currentAngle>34?"angle36":a.currentAngle>32?"angle34":a.currentAngle>30?"angle32":a.currentAngle>28?"angle30":a.currentAngle>26?"angle28":a.currentAngle>24?"angle26":a.currentAngle>22?"angle24":a.currentAngle>20?"angle22":a.currentAngle>18?"angle20":a.currentAngle>16?"angle18":a.currentAngle>14?"angle16":a.currentAngle>12?"angle14":a.currentAngle>10?"angle12":a.currentAngle>8?"angle10":a.currentAngle>6?"angle8":a.currentAngle>4?"angle6":a.currentAngle>2?"angle4":a.currentAngle>0?"angle2":a.currentAngle>-2?"angle0":a.currentAngle>-4?"angle_2":a.currentAngle>-6?"angle_4":a.currentAngle>-8?"angle_6":a.currentAngle>-10?"angle_8":a.currentAngle>-12?"angle_10":a.currentAngle>-14?"angle_12":a.currentAngle>-16?"angle_14":a.currentAngle>-18?"angle_16":a.currentAngle>-20?"angle_18":a.currentAngle>-22?"angle_20":a.currentAngle>-24?"angle_22":a.currentAngle>-26?"angle_24":a.currentAngle>-28?"angle_26":a.currentAngle>-30?"angle_28":a.currentAngle>-32?"angle_30":a.currentAngle>-34?"angle_32":a.currentAngle>-36?"angle_34":a.currentAngle>-38?"angle_36":a.currentAngle>-40?"angle_38":a.currentAngle>-42?"angle_40":a.currentAngle>-44?"angle_42":a.currentAngle>-46?"angle_44":a.currentAngle>-48?"angle_46":a.currentAngle>-50?"angle_48":a.currentAngle>-52?"angle_50":a.currentAngle>-54?"angle_52":a.currentAngle>-56?"angle_54":a.currentAngle>-58?"angle_56":a.currentAngle>-60?"angle_58":"angle_60"),style:{width:"100%",height:"150px",marginTop:5}},"--"===a.currentAngle&&r.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#54aab3",color:"white"}},"No Current Angle Data Found.")),"--"!==a.currentAngle&&r.a.createElement(Q.a,{variant:"h5",style:{textAlign:"center",height:48,marginTop:5}},"Angle = ",a.currentAngle),r.a.createElement("div",{style:{height:"calc(100% - 246px)",width:"100%",overflow:"auto"}},r.a.createElement($.a,{padding:"none"},r.a.createElement(Y.a,null,r.a.createElement(ae.a,{style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(Q.a,{variant:"body1"},"Tracker ID")),r.a.createElement(ee.a,null,a.trackerID)),r.a.createElement(ae.a,{style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(Q.a,{variant:"body1"},"Device ID")),r.a.createElement(ee.a,null,a.deviceID)),r.a.createElement(ae.a,{style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(Q.a,{variant:"body1"},"Mac ID")),r.a.createElement(ee.a,null,a.macID)),r.a.createElement(ae.a,{style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(Q.a,{variant:"body1"},"Current Mode")),r.a.createElement(ee.a,null,a.currentMode)),r.a.createElement(ae.a,{style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(Q.a,{variant:"body1"},"Current Angle")),r.a.createElement(ee.a,null,a.currentAngle)),r.a.createElement(ae.a,{style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(Q.a,{variant:"body1"},"Date and Time")),r.a.createElement(ee.a,null,new Date(a.timeStamp).toLocaleDateString("en-US",{timeZone:this.props.timeZone})," -- ",new Date(a.timeStamp).toLocaleTimeString("en-US",{timeZone:this.props.timeZone,hour12:!1})))))))}}]),t}(r.a.Component);var me=Object(c.b)(function(e){var t=e.app;return{currentTrackerInfo:t.currentTrackerInfo,timeZone:t.timeZone,currentTracker:t.currentTracker}},function(e){return{getCurrentTrackerInfo:function(t){e({type:"GET_CURRENT_TRACKER_INFO_REQUEST"}),oe.getCurrentTrackerInfo(t).then(function(t){e({type:"GET_CURRENT_TRACKER_INFO_SUCCESS",json:t})},function(t){e({type:"GET_CURRENT_TRACKER_INFO_FAILURE"})})}}})(Object(B.a)(function(e){return{root:{height:"100%",width:"100%",padding:24,flexWrap:"nowrap"}}})(ue)),de=function(e){return r.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#54aab3",color:"white"}},r.a.createElement("p",{style:{margin:10}},"No static data found.  "),r.a.createElement(z.a,{variant:"contained",style:{margin:10},color:"primary",onClick:function(){return e.scan()}},"Add trackers"),r.a.createElement(z.a,{variant:"contained",style:{margin:10},color:"primary",onClick:function(){return e.getCommissioningData()}},"Refresh static data"))},ge=function(){return r.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#54aab3",color:"white"}},"FETCHING...")},pe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={},a.getCommissioningData=function(){a.props.getCommissioningData()},a.scan=function(){a.props.scan()},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.commissioningData;return t.fetchingCommissioningData?r.a.createElement(ge,null):null===n?r.a.createElement(de,{scan:function(){return e.scan()},getCommissioningData:function(){return e.getCommissioningData()}}):r.a.createElement(q.a,{container:!0,direction:"column",className:a.root},r.a.createElement(q.a,{item:!0,className:a.trackerList},r.a.createElement(X.a,{style:{height:"100%"}},r.a.createElement(re,null))),r.a.createElement(q.a,{item:!0,className:a.trackerDetails},r.a.createElement(X.a,{style:{height:"100%"}},r.a.createElement(me,null))))}}]),t}(r.a.Component);var Ee=Object(c.b)(function(e){var t=e.app;return{commissioningData:t.commissioningData,fetchingCommissioningData:t.fetchingCommissioningData}},function(e){return{scan:function(){e({type:"SCAN"})},getCommissioningData:function(){e({type:"GET_COMMISSIONING_DATA_REQUEST"}),oe.getCommissioningData().then(function(t){e({type:"GET_COMMISSIONING_DATA_SUCCESS",json:t})},function(t){e({type:"GET_COMMISSIONING_DATA_FAILURE",error:t})})}}})(Object(B.a)(function(e){return{root:Object(d.a)({flexWrap:"wrap"},e.breakpoints.up("md"),{height:"100%"}),trackerList:Object(d.a)({width:"100%",padding:10},e.breakpoints.up("md"),{minHeight:"100%",width:"50%"}),trackerDetails:Object(d.a)({width:"100%",padding:10},e.breakpoints.up("md"),{minHeight:"100%",width:"50%"})}})(pe)),Se=a(278),he=a(269),fe=a(282),be=a(283),Ae=a(267),ve=a(268),ye=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={Lattitude:"",Longitude:"",Altitude:"",TrackingLimitEast:"",TrackingLimitWest:"",RowWidth:"",RowPitch:"",TrackingResolution:"",AzimuthDeviation:"",AltitudeofTrackerontheEast:"",AltitudeofTrackerontheWest:"",EarlyStartMinutes:"",LateFinishMinutes:"",LattitudeError:"",LongitudeError:"",AltitudeError:"",TrackingLimitEastError:"",TrackingLimitWestError:"",RowWidthError:"",RowPitchError:"",TrackingResolutionError:"",AzimuthDeviationError:"",AltitudeofTrackerontheEastError:"",AltitudeofTrackerontheWestError:"",EarlyStartMinutesError:"",LateFinishMinutesError:"",backTracking:"0",submit:!0},a.componentDidMount=function(){1===a.props.editedTrackers.length&&a.props.getSPAParameters(a.props.editedTrackers[0].deviceID)},a.componentWillReceiveProps=function(e){if(e.SPAParameters!==a.props.SPAParameters){var t=e.SPAParameters.VALUES.split(",");a.setState({Lattitude:t[0],Longitude:t[1],Altitude:t[2],TrackingLimitEast:t[3],TrackingLimitWest:t[4],RowWidth:t[5],RowPitch:t[6],TrackingResolution:t[7],AzimuthDeviation:t[8],AltitudeofTrackerontheEast:t[9],AltitudeofTrackerontheWest:t[10],EarlyStartMinutes:t[11],LateFinishMinutes:t[12],backTracking:t[14]})}},a.handleChange=function(e){var t;a.setState(Object(p.a)({},a.state,(t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"".concat(e.target.name,"Error"),""),Object(d.a)(t,"submit",!0),t)))},a.handleBlur=function(e,t){if(new RegExp("^[-+]?[0-9]*.?[0-9]+$").test(e.target.value)){var n,r=Number(e.target.value);if(null!==t.min&&null!==t.max){if(r<t.min||r>t.max)a.setState(Object(p.a)({},a.state,(n={},Object(d.a)(n,"".concat(e.target.name,"Error"),"min: ".concat(t.min," max: ").concat(t.max)),Object(d.a)(n,"submit",!1),n)))}else if(null!==t.min){var o;if(r<t.min)a.setState(Object(p.a)({},a.state,(o={},Object(d.a)(o,"".concat(e.target.name,"Error"),"min: ".concat(t.min)),Object(d.a)(o,"submit",!1),o)))}else if(null!=t.max){var c;if(r>t.max)a.setState(Object(p.a)({},a.state,(c={},Object(d.a)(c,"".concat(e.target.name,"Error"),"max: ".concat(t.max)),Object(d.a)(c,"submit",!1),c)))}}else{var i;a.setState(Object(p.a)({},a.state,(i={},Object(d.a)(i,"".concat(e.target.name,"Error"),"Please enter a number."),Object(d.a)(i,"submit",!1),i)))}},a.sendSPAParameters=function(){var e=a.state,t=e.Lattitude,n=e.Longitude,r=e.Altitude,o=e.TrackingLimitEast,c=e.TrackingLimitWest,i=e.RowWidth,l=e.RowPitch,s=e.TrackingResolution,u=e.AzimuthDeviation,m=e.AltitudeofTrackerontheEast,d=e.AltitudeofTrackerontheWest,g=e.EarlyStartMinutes,p=e.LateFinishMinutes,E=e.backTracking;a.props.sendSPAParameters(a.props.editedTrackers,t,n,r,o,c,i,l,s,u,m,d,g,p,E)},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{container:!0,direction:"column",className:t.root},r.a.createElement(q.a,{item:!0,className:t.fieldGrid},[{key:"Lattitude",adornment:"Deg",min:-90,max:90,value:0},{key:"Longitude",adornment:"Deg",min:-180,max:180,value:1},{key:"Altitude",adornment:"m",min:0,max:null,value:2},{key:"Tracking Limit - East",adornment:"Deg",min:-60,max:0,value:3},{key:"Tracking Limit - West",adornment:"Deg",min:0,max:60,value:4},{key:"Row Width",adornment:"m",min:0,max:null,value:5},{key:"Row Pitch",adornment:"m",min:0,max:null,value:6},{key:"Tracking Resolution",adornment:"Deg",min:.5,max:30,value:7},{key:"Azimuth Deviation",adornment:"Deg",min:-90,max:90,value:8},{key:"Altitude of Tracker on the East",adornment:"m",min:0,max:null,value:9},{key:"Altitude of Tracker on the West",adornment:"m",min:0,max:null,value:10},{key:"Early Start Minutes",adornment:"Minutes",min:0,max:null,value:11},{key:"Late Finish Minutes",adornment:"Minutes",min:0,max:null,value:12}].map(function(a){return r.a.createElement(be.a,{key:a.key,className:t.field,id:a.key,name:a.key.replace(/ /g,"").replace(/-/g,""),label:a.key,value:e.state[a.key.replace(/ /g,"").replace(/-/g,"")],onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},disabled:e.props.sendingSPAParameters||e.props.gettingSPAParameters,InputProps:{endAdornment:r.a.createElement(Ae.a,{position:"end"},a.adornment)},error:""!==e.state["".concat(a.key.replace(/ /g,"").replace(/-/g,""),"Error")],helperText:e.state["".concat(a.key.replace(/ /g,"").replace(/-/g,""),"Error")],onBlur:function(t){return e.handleBlur(t,a)}})}),r.a.createElement(ve.a,{disabled:this.props.sendingSPAParameters||this.props.gettingSPAParameters,className:t.field,control:r.a.createElement(fe.a,{color:"primary",checked:"1"===this.state.backTracking,onClick:function(){return e.setState(Object(p.a)({},e.state,{backTracking:"0"===e.state.backTracking?"1":"0"}))}}),label:"Enable Backtracking"}),r.a.createElement(z.a,{color:"primary",disabled:!0,variant:"contained",className:t.field},"Sync time with Zone Controller")),r.a.createElement(q.a,{item:!0,style:{textAlign:"center"}},r.a.createElement(z.a,{color:"primary",disabled:this.props.sendingSPAParameters||this.props.gettingSPAParameters||!this.state.submit,variant:"contained",onClick:function(){return e.sendSPAParameters()},style:{margin:10}},"Save"))))}}]),t}(r.a.Component);var Te=Object(c.b)(function(e){var t=e.app;return{editedTrackers:t.editedTrackers,sendingSPAParameters:t.sendingSPAParameters}},function(e){return{sendSPAParameters:function(t,a,n,r,o,c,i,l,s,u,m,d,g,p,E){e({type:"SET_RESPONSE_LISTENER"}),t.map(function(t){e({type:"SEND_SPA_PARAMETERS_REQUEST",t:t}),oe.sendSPAParameters(t.deviceID,a,n,r,o,c,i,l,s,u,m,d,g,p,E).then(function(t){e({type:"SEND_SPA_PARAMETERS_SUCCESS"})},function(t){e({type:"SEND_SPA_PARAMETERS_FAILURE"})})})}}})(Object(B.a)(function(e){return{root:{},fieldGrid:{display:"flex",flexDirection:"row",flexWrap:"wrap",padding:10,overflow:"auto"},field:Object(d.a)({width:"45%",margin:"10px 2.5% 0px 2.5%"},e.breakpoints.up("md"),{width:"31.33%",margin:"10px 1% 0px 1%"})}})(ye)),Oe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={WindStowAngle:"",SnowStowAngle:"",NightStowAngle:"",EmergencyStowAngle:"",CleanStowAngle:"",submit:!0},a.componentDidMount=function(){1===a.props.editedTrackers.length&&a.props.getStowAngles(a.props.editedTrackers[0].deviceID)},a.componentWillReceiveProps=function(e){if(e.stowAngles!==a.props.stowAngles){var t=e.stowAngles.VALUES.split(",");a.setState({WindStowAngle:t[0],SnowStowAngle:t[1],NightStowAngle:t[2],EmergencyStowAngle:t[3],CleanStowAngle:t[4]})}},a.handleChange=function(e){var t;a.setState(Object(p.a)({},a.state,(t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"".concat(e.target.name,"Error"),""),Object(d.a)(t,"submit",!0),t)))},a.handleBlur=function(e,t){var n;if(""===e.target.value)a.setState(Object(p.a)({},a.state,(n={},Object(d.a)(n,e.target.name,a.props.SPAParameters.VALUES.split(",")[t.value]),Object(d.a)(n,"".concat(e.target.name,"Error"),""),Object(d.a)(n,"submit",!1),n)));else if(new RegExp("^[-+]?[0-9]*.?[0-9]+$").test(e.target.value)){var r,o=Number(e.target.value);if(null!==t.min&&null!==t.max){if(o<t.min||o>t.max)a.setState(Object(p.a)({},a.state,(r={},Object(d.a)(r,"".concat(e.target.name,"Error"),"min: ".concat(t.min," max: ").concat(t.max)),Object(d.a)(r,"submit",!1),r)))}else if(null!==t.min){var c;if(o<t.min)a.setState(Object(p.a)({},a.state,(c={},Object(d.a)(c,"".concat(e.target.name,"Error"),"min: ".concat(t.min)),Object(d.a)(c,"submit",!1),c)))}else if(null!=t.max){var i;if(o>t.max)a.setState(Object(p.a)({},a.state,(i={},Object(d.a)(i,"".concat(e.target.name,"Error"),"max: ".concat(t.max)),Object(d.a)(i,"submit",!1),i)))}}else{var l;a.setState(Object(p.a)({},a.state,(l={},Object(d.a)(l,"".concat(e.target.name,"Error"),"Please enter a number."),Object(d.a)(l,"submit",!1),l)))}},a.sendStowAngles=function(){var e=a.state,t=e.WindStowAngle,n=e.SnowStowAngle,r=e.CleanStowAngle,o=e.NightStowAngle,c=e.EmergencyStowAngle;a.props.sendStowAngles(a.props.editedTrackers,t,n,r,o,c)},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{container:!0,direction:"column",className:t.root},r.a.createElement(q.a,{item:!0,className:t.fieldGrid},["Wind Stow Angle","Snow Stow Angle","Night Stow Angle","Emergency Stow Angle","Clean Stow Angle"].map(function(a){return r.a.createElement(be.a,{key:a,className:t.field,id:a,name:a.replace(/ /g,""),label:a,value:e.state[a.replace(/ /g,"")],onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},disabled:e.props.sendingStowAngles||e.props.gettingStowAngles,InputProps:{endAdornment:r.a.createElement(Ae.a,{position:"end"},"Deg")}})})),r.a.createElement(q.a,{item:!0,style:{height:64,textAlign:"center"}},r.a.createElement(z.a,{color:"primary",disabled:this.props.sendingStowAngles||this.props.gettingStowAngles,variant:"contained",onClick:function(){return e.sendStowAngles()},style:{margin:10}},"Save"))))}}]),t}(r.a.Component);var Ce=Object(c.b)(function(e){var t=e.app;return{editedTrackers:t.editedTrackers,stowAngles:t.stowAngles,sendingStowAngles:t.sendingStowAngles,gettingStowAngles:t.gettingStowAngles}},function(e){return{sendStowAngles:function(t,a,n,r,o,c){e({type:"SET_RESPONSE_LISTENER"}),t.map(function(t){e({type:"SEND_STOW_ANGLES_REQUEST",t:t}),oe.sendStowAngles(t.deviceID,a,n,r,o,c).then(function(t){e({type:"SEND_STOW_ANGLES_SUCCESS"})},function(t){e({type:"SEND_STOW_ANGLES_FAILURE"})})})}}})(Object(B.a)(function(e){return{root:{},fieldGrid:{display:"flex",flexDirection:"row",flexWrap:"wrap",padding:10,overflow:"auto"},field:Object(d.a)({width:"45%",margin:"10px 2.5% 0px 2.5%"},e.breakpoints.up("md"),{width:"31.33%",margin:"10px 1% 0px 1%"})}})(Oe)),ke=a(64),_e=a.n(ke),De=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){a.props.changeTab({value:t})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.classes,a=e.currentEditTab,n=e.editedTrackers,o=e.responseQueue;return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.header},r.a.createElement(q.a,{item:!0},r.a.createElement(Q.a,{variant:"h5"},r.a.createElement(N.a,{"aria-label":"Back",onClick:this.props.back},r.a.createElement(_e.a,{fontSize:"large"})),"Edit Parameters"))),r.a.createElement("div",{className:t.body},r.a.createElement("div",{className:t.editedTrackers},r.a.createElement(C.a,{position:"static",color:"secondary"},r.a.createElement(W.a,{style:{minHeight:48},disableGutters:!0},r.a.createElement(Q.a,{variant:"subtitle1",style:{margin:"auto"}},"Selected Trackers"))),n.map(function(e){return r.a.createElement(V.a,{key:e.deviceID,label:"Row#: ".concat(e.rowNumber),className:t.chip,style:o.filter(function(t){return t.request.DID===e.deviceID})[0]?o.filter(function(t){return t.request.DID===e.deviceID})[0].success?{backgroundColor:"green"}:{backgroundColor:"red"}:{}})})),r.a.createElement("div",{className:t.tabs},r.a.createElement(C.a,{position:"static",color:"secondary"},r.a.createElement(Se.a,{value:a,onChange:this.handleChange,classes:{indicator:t.tabsIndicator}},r.a.createElement(he.a,{label:"SPA Parameters",classes:{selected:t.selected}}),r.a.createElement(he.a,{label:"Stow Angles",classes:{selected:t.selected}}))),0===a&&r.a.createElement(Te,null),1===a&&r.a.createElement(Ce,null))))}}]),t}(r.a.Component);var Re=Object(c.b)(function(e){var t=e.app;return{currentEditTab:t.currentEditTab,editedTrackers:t.editedTrackers,responseQueue:t.responseQueue}},function(e){return{changeTab:function(t){e({type:"CHANGE_EDIT_TAB",value:t})}}})(Object(B.a)(function(e){return{root:{backgroundColor:e.palette.background.paper,margin:10,display:"flex",flexDirection:"column"},body:{display:"flex",flexDirection:"row"},tabsIndicator:{backgroundColor:"#54AAB3"},selected:{backgroundColor:"#54AAB3",color:"#ffffff",fontWeight:600,fontSize:14},editedTrackers:{width:"25%",margin:10},tabs:{width:"75%",padding:10,boxShadow:"-1px 0px 0px 0px rgba(0,0,0,0.5)"},chip:{margin:10},green:{backgroundColor:"green"},red:{backgroundColor:"red"}}})(De)),Ne=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={Lattitude:"",Longitude:"",Altitude:"",TrackingLimitEast:"",TrackingLimitWest:"",RowWidth:"",RowPitch:"",TrackingResolution:"",AzimuthDeviation:"",AltitudeofTrackerontheEast:"",AltitudeofTrackerontheWest:"",EarlyStartMinutes:"",LateFinishMinutes:"",LattitudeError:"",LongitudeError:"",AltitudeError:"",TrackingLimitEastError:"",TrackingLimitWestError:"",RowWidthError:"",RowPitchError:"",TrackingResolutionError:"",AzimuthDeviationError:"",AltitudeofTrackerontheEastError:"",AltitudeofTrackerontheWestError:"",EarlyStartMinutesError:"",LateFinishMinutesError:"",WindStowAngle:"",SnowStowAngle:"",NightStowAngle:"",EmergencyStowAngle:"",CleanStowAngle:"",backTracking:"0",submit:!0},a.componentDidMount=function(){1===a.props.editedTrackers.length&&(a.props.getSPAParameters(a.props.editedTrackers[0].deviceID),a.props.getStowAngles(a.props.editedTrackers[0].deviceID))},a.componentWillReceiveProps=function(e){if(e.SPAParameters!==a.props.SPAParameters&&e.SPAParameters[a.props.editedTrackers[0].deviceID]){var t=e.SPAParameters[a.props.editedTrackers[0].deviceID].VALUES.split(",");a.setState({Lattitude:t[0],Longitude:t[1],Altitude:t[2],TrackingLimitEast:t[3],TrackingLimitWest:t[4],RowWidth:t[5],RowPitch:t[6],TrackingResolution:t[7],AzimuthDeviation:t[8],AltitudeofTrackerontheEast:t[9],AltitudeofTrackerontheWest:t[10],EarlyStartMinutes:t[11],LateFinishMinutes:t[12],backTracking:t[14]})}if(e.stowAngles!==a.props.stowAngles){var n=e.stowAngles.VALUES.split(",");a.setState({WindStowAngle:n[0],SnowStowAngle:n[1],NightStowAngle:n[2],EmergencyStowAngle:n[3],CleanStowAngle:n[4]})}},a.handleChange=function(e){var t;a.setState(Object(p.a)({},a.state,(t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"".concat(e.target.name,"Error"),""),Object(d.a)(t,"submit",!0),t)))},a.handleChangeSPA=function(e){var t;a.setState(Object(p.a)({},a.state,(t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"".concat(e.target.name,"Error"),""),Object(d.a)(t,"submit",!0),t)))},a.handleBlur=function(e,t){var n;if(""===e.target.value)a.setState(Object(p.a)({},a.state,(n={},Object(d.a)(n,e.target.name,a.props.SPAParameters.VALUES.split(",")[t.value]),Object(d.a)(n,"".concat(e.target.name,"Error"),""),Object(d.a)(n,"submit",!1),n)));else if(new RegExp("^[-+]?[0-9]*.?[0-9]+$").test(e.target.value)){var r,o=Number(e.target.value);if(null!==t.min&&null!==t.max){if(o<t.min||o>t.max)a.setState(Object(p.a)({},a.state,(r={},Object(d.a)(r,"".concat(e.target.name,"Error"),"min: ".concat(t.min," max: ").concat(t.max)),Object(d.a)(r,"submit",!1),r)))}else if(null!==t.min){var c;if(o<t.min)a.setState(Object(p.a)({},a.state,(c={},Object(d.a)(c,"".concat(e.target.name,"Error"),"min: ".concat(t.min)),Object(d.a)(c,"submit",!1),c)))}else if(null!=t.max){var i;if(o>t.max)a.setState(Object(p.a)({},a.state,(i={},Object(d.a)(i,"".concat(e.target.name,"Error"),"max: ".concat(t.max)),Object(d.a)(i,"submit",!1),i)))}}else{var l;a.setState(Object(p.a)({},a.state,(l={},Object(d.a)(l,"".concat(e.target.name,"Error"),"Please enter a number."),Object(d.a)(l,"submit",!1),l)))}},a.sendSPAParameters=function(){var e=a.state,t=e.Lattitude,n=e.Longitude,r=e.Altitude,o=e.TrackingLimitEast,c=e.TrackingLimitWest,i=e.RowWidth,l=e.RowPitch,s=e.TrackingResolution,u=e.AzimuthDeviation,m=e.AltitudeofTrackerontheEast,d=e.AltitudeofTrackerontheWest,g=e.EarlyStartMinutes,p=e.LateFinishMinutes,E=e.backTracking;a.props.sendSPAParameters(a.props.editedTrackers,t,n,r,o,c,i,l,s,u,m,d,g,p,E)},a.sendStowAngles=function(){var e=a.state,t=e.WindStowAngle,n=e.SnowStowAngle,r=e.CleanStowAngle,o=e.NightStowAngle,c=e.EmergencyStowAngle;a.props.sendStowAngles(a.props.editedTrackers,t,n,r,o,c)},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{container:!0,direction:"column",className:t.root},r.a.createElement(q.a,{item:!0,style:{height:64,borderBottom:"0.1px solid lightgrey"}},r.a.createElement(Q.a,{variant:"h5"},r.a.createElement(N.a,{"aria-label":"Back",onClick:this.props.back},r.a.createElement(_e.a,{fontSize:"large"})),"Edit Parameters")),r.a.createElement(Q.a,{variant:"h6",style:{paddingLeft:"calc(1% + 10px)"}},"SPA Settings"),r.a.createElement(q.a,{item:!0,className:t.fieldGrid},[{key:"Lattitude",adornment:"Deg",min:-90,max:90,value:0},{key:"Longitude",adornment:"Deg",min:-180,max:180,value:1},{key:"Altitude",adornment:"m",min:0,max:null,value:2},{key:"Tracking Limit - East",adornment:"Deg",min:-60,max:0,value:3},{key:"Tracking Limit - West",adornment:"Deg",min:0,max:60,value:4},{key:"Row Width",adornment:"m",min:0,max:null,value:5},{key:"Row Pitch",adornment:"m",min:0,max:null,value:6},{key:"Tracking Resolution",adornment:"Deg",min:.5,max:30,value:7},{key:"Azimuth Deviation",adornment:"Deg",min:-90,max:90,value:8},{key:"Altitude of Tracker on the East",adornment:"m",min:0,max:null,value:9},{key:"Altitude of Tracker on the West",adornment:"m",min:0,max:null,value:10},{key:"Early Start Minutes",adornment:"Minutes",min:0,max:null,value:11},{key:"Late Finish Minutes",adornment:"Minutes",min:0,max:null,value:12}].map(function(a){return r.a.createElement(be.a,{key:a.key,className:t.field,id:a.key,name:a.key.replace(/ /g,"").replace(/-/g,""),label:a.key,value:e.state[a.key.replace(/ /g,"").replace(/-/g,"")],onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},disabled:e.props.sendingSPAParameters||e.props.gettingSPAParameters,InputProps:{endAdornment:r.a.createElement(Ae.a,{position:"end"},a.adornment)},error:""!==e.state["".concat(a.key.replace(/ /g,"").replace(/-/g,""),"Error")],helperText:e.state["".concat(a.key.replace(/ /g,"").replace(/-/g,""),"Error")],onBlur:function(t){return e.handleBlur(t,a)}})}),r.a.createElement(ve.a,{disabled:this.props.sendingSPAParameters||this.props.gettingSPAParameters,style:{margin:10,marginLeft:"auto"},control:r.a.createElement(fe.a,{color:"primary",checked:"1"===this.state.backTracking,onClick:function(){return e.setState(Object(p.a)({},e.state,{backTracking:"0"===e.state.backTracking?"1":"0"}))}}),label:"Enable Backtracking"}),r.a.createElement(z.a,{color:"primary",disabled:!0,variant:"contained",style:{margin:10}},"Sync time with Zone Controller")),r.a.createElement(q.a,{item:!0,style:{height:64,textAlign:"center",borderBottom:"0.1px solid lightgrey"}},r.a.createElement(z.a,{color:"primary",disabled:this.props.sendingSPAParameters||this.props.gettingSPAParameters||!this.state.submit,variant:"contained",onClick:function(){return e.sendSPAParameters()},style:{margin:10}},"Save")),r.a.createElement(Q.a,{variant:"h6",style:{paddingLeft:"calc(1% + 10px)"}},"Stow Angle Settings"),r.a.createElement(q.a,{item:!0,className:t.fieldGrid},["Wind Stow Angle","Snow Stow Angle","Night Stow Angle","Emergency Stow Angle","Clean Stow Angle"].map(function(a){return r.a.createElement(be.a,{key:a,className:t.field,id:a,name:a.replace(/ /g,""),label:a,value:e.state[a.replace(/ /g,"")],onChange:function(t){return e.handleChange(t)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},disabled:e.props.sendingStowAngles||e.props.gettingStowAngles,InputProps:{endAdornment:r.a.createElement(Ae.a,{position:"end"},"Deg")}})})),r.a.createElement(q.a,{item:!0,style:{height:64,textAlign:"center"}},r.a.createElement(z.a,{color:"primary",disabled:this.props.sendingStowAngles||this.props.gettingStowAngles,variant:"contained",onClick:function(){return e.sendStowAngles()},style:{margin:10}},"Save"))))}}]),t}(r.a.Component);var Pe=Object(c.b)(function(e){var t=e.app;return{editedTrackers:t.editedTrackers,SPAParameters:t.SPAParameters,stowAngles:t.stowAngles,sendingSPAParameters:t.sendingSPAParameters,sendingStowAngles:t.sendingStowAngles,gettingSPAParameters:t.gettingSPAParameters,gettingStowAngles:t.gettingStowAngles}},function(e){return{sendSPAParameters:function(t,a,n,r,o,c,i,l,s,u,m,d,g,p,E){var S="".concat(a,", ").concat(n,", ").concat(r,", ").concat(o,", ").concat(c,", ").concat(i,", ").concat(l,", ").concat(s,", ").concat(u,", ").concat(m,", ").concat(d,", ").concat(g,", ").concat(p,", 0, ").concat(E);t.map(function(t){e({type:"SEND_SPA_PARAMETERS_REQUEST",t:t,values:S}),oe.sendSPAParameters(t.deviceID,a,n,r,o,c,i,l,s,u,m,d,g,p,E).then(function(a){e({type:"SEND_SPA_PARAMETERS_SUCCESS"}),e({type:"GET_SPA_PARAMETERS_REQUEST"}),oe.getSPAParameters(t.deviceID).then(function(t){e({type:"GET_SPA_PARAMETERS_SUCCESS"})},function(t){e({type:"GET_SPA_PARAMETERS_FAILURE"})})},function(t){e({type:"SEND_SPA_PARAMETERS_FAILURE"})})})},sendStowAngles:function(t,a,n,r,o,c){var i="".concat(a,", ").concat(n,", ").concat(r,", ").concat(o,", ").concat(c);t.map(function(t){e({type:"SEND_STOW_ANGLES_REQUEST",t:t,values:i}),oe.sendStowAngles(t.deviceID,a,n,r,o,c).then(function(a){e({type:"SEND_STOW_ANGLES_SUCCESS"}),e({type:"GET_STOW_ANGLES_REQUEST"}),oe.getStowAngles(t.deviceID).then(function(t){e({type:"GET_STOW_ANGLES_SUCCESS"})},function(t){e({type:"GET_STOW_ANGLES_FAILURE"})})},function(t){e({type:"SEND_STOW_ANGLES_FAILURE"})})})},getStowAngles:function(t){e({type:"GET_STOW_ANGLES_REQUEST"}),oe.getStowAngles(t).then(function(t){e({type:"GET_STOW_ANGLES_SUCCESS"})},function(t){e({type:"GET_STOW_ANGLES_FAILURE"})})},getSPAParameters:function(t){e({type:"GET_SPA_PARAMETERS_REQUEST"}),oe.getSPAParameters(t).then(function(t){e({type:"GET_SPA_PARAMETERS_SUCCESS"})},function(t){e({type:"GET_SPA_PARAMETERS_FAILURE"})})}}})(Object(B.a)(function(e){return{root:{},fieldGrid:{display:"flex",flexDirection:"row",flexWrap:"wrap",padding:10,overflow:"auto"},field:Object(d.a)({width:"45%",margin:"10px 2.5% 0px 2.5%"},e.breakpoints.up("md"),{width:"23%",margin:"10px 1% 0px 1%"})}})(Ne)),je=a(144),we=a(270),Ie=a(271),xe=a(132),Le=a.n(xe),Ue=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={typeOfStow:"STOW",auto:!1},a.handleClick=function(e){a.setState(Object(p.a)({},a.state,{anchorEl:e.currentTarget}))},a.handleClose=function(e){a.setState({typeOfStow:e,anchorEl:null})},a.autoToggle=function(){a.state.auto?(a.props.controlledTrackers.map(function(e){return a.props.sendStow(e.deviceID,"AUTO")}),a.setState(Object(p.a)({},a.state,{auto:!a.state.auto}))):(a.props.controlledTrackers.map(function(e){return a.props.sendStow(e.deviceID,"MANUAL")}),a.setState(Object(p.a)({},a.state,{auto:!a.state.auto})))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.anchorEl;return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{container:!0,direction:"column",className:t.root},r.a.createElement(q.a,{item:!0,style:{height:64}},r.a.createElement(Q.a,{variant:"h5"},r.a.createElement(N.a,{"aria-label":"Back",onClick:this.props.back},r.a.createElement(_e.a,{fontSize:"large"})),"Control")),r.a.createElement(q.a,{item:!0,className:t.second}),r.a.createElement(q.a,{item:!0,style:{textAlign:"center"}},r.a.createElement(z.a,{color:"primary",variant:"contained",onClick:function(){return e.props.controlledTrackers.map(function(t){return e.props.sendCommand(t.deviceID,"NEGATIVE")})},style:{margin:10}},"Run West"),r.a.createElement(z.a,{color:"primary",variant:"contained",onClick:function(){return e.props.controlledTrackers.map(function(t){return e.props.sendCommand(t.deviceID,"POSITIVE")})},style:{margin:10}},"Run East"),r.a.createElement(z.a,{color:"primary",variant:"contained",onClick:function(){return e.props.controlledTrackers.map(function(t){return e.props.sendCommand(t.deviceID,"STOP")})},style:{margin:10}},"Stop"),r.a.createElement(z.a,{color:"primary",disabled:"STOW"===this.state.typeOfStow,onClick:function(){return e.props.controlledTrackers.map(function(t){return e.props.sendStow(t.deviceID,e.state.typeOfStow)})},variant:"contained",style:{marginLeft:10}},this.state.typeOfStow),r.a.createElement(z.a,{color:"primary",variant:"contained","aria-owns":a?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick,style:{minWidth:24,paddingLeft:0,paddingRight:0}},r.a.createElement(Le.a,null)),r.a.createElement(je.a,{id:"simple-menu",anchorEl:a,open:Boolean(a),onClose:this.handleClose},r.a.createElement(we.a,{onClick:function(){return e.handleClose("WIND")}},"WIND"),r.a.createElement(we.a,{onClick:function(){return e.handleClose("SNOW")}},"SNOW"),r.a.createElement(we.a,{onClick:function(){return e.handleClose("NIGHT")}},"NIGHT"),r.a.createElement(we.a,{onClick:function(){return e.handleClose("CLEAN")}},"CLEAN"),r.a.createElement(we.a,{onClick:function(){return e.handleClose("EMERGENCY")}},"EMERGENCY")),r.a.createElement(ve.a,{style:{margin:10},labelPlacement:"top",control:r.a.createElement(Ie.a,{color:"primary",checked:this.state.auto,onClick:function(){return e.autoToggle()}}),label:"Enable Auto Mode"}))))}}]),t}(r.a.Component);var Me=Object(c.b)(function(e){return{controlledTrackers:e.app.controlledTrackers}},function(e){return{sendCommand:function(t,a){e({type:"SEND_COMMAND_REQUEST"}),oe.sendCommand(t,a).then(function(t){e({type:"SEND_COMMAND_SUCCESS"})},function(t){e({type:"SEND_COMMAND_FAILURE"})})},sendStow:function(t,a){e({type:"SEND_STOW_REQUEST"}),oe.sendStow(t,a).then(function(t){e({type:"SEND_STOW_SUCCESS"})},function(t){e({type:"SEND_STOW_FAILURE"})})}}})(Object(B.a)(function(e){return{root:{height:"calc(100% - 48px)"},second:{height:"calc(100% - 128px)",display:"flex",flexDirection:"column",flexWrap:"wrap",padding:10,overflow:"auto"}}})(Ue)),Ge=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={selectedTrackers:[],location:"home"},a.selectAll=function(){a.state.selectedTrackers.length===a.props.commissioningData.length?a.setState(Object(p.a)({},a.state,{selectedTrackers:[]})):a.setState(Object(p.a)({},a.state,{selectedTrackers:Object(g.a)(a.props.commissioningData)}))},a.selectRow=function(e){-1===a.state.selectedTrackers.indexOf(e)?a.setState(Object(p.a)({},a.state,{selectedTrackers:[].concat(Object(g.a)(a.state.selectedTrackers),[e])})):a.setState(Object(p.a)({},a.state,{selectedTrackers:Object(g.a)(a.state.selectedTrackers.filter(function(t){return t.macID!==e.macID}))}))},a.editTracker=function(){a.props.setEditedTrackers(a.state.selectedTrackers),a.setState(Object(p.a)({},a.state,{location:"edit"}))},a.controlTracker=function(){a.props.setControlledTrackers(a.state.selectedTrackers),a.setState(Object(p.a)({},a.state,{location:"control"}))},a.back=function(){a.setState(Object(p.a)({},a.state,{location:"home"}))},a.removeTrackers=function(){a.props.removeTrackers(a.state.selectedTrackers.map(function(e){return e.deviceID})),a.setState(Object(p.a)({},a.state,{selectedTrackers:[]}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.commissioningData;return r.a.createElement(n.Fragment,null,"edit"===this.state.location?this.state.selectedTrackers.length>1?r.a.createElement(Re,{back:this.back}):r.a.createElement(Pe,{back:this.back}):"control"===this.state.location?r.a.createElement(Me,{back:this.back}):r.a.createElement(q.a,{container:!0,direction:"column",style:{height:"calc(100% - 48px)"}},r.a.createElement(q.a,{item:!0,style:{textAlign:"end"}},r.a.createElement(z.a,{color:"primary",variant:"contained",disabled:0===this.state.selectedTrackers.length,className:a.buttons,onClick:function(){return e.editTracker()}},"Edit"),r.a.createElement(z.a,{color:"primary",variant:"contained",disabled:0===this.state.selectedTrackers.length,className:a.buttons,onClick:function(){return e.controlTracker()}},"Control")),r.a.createElement(q.a,{item:!0},r.a.createElement($.a,{className:a.table},r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ee.a,{onClick:function(){return e.selectAll()},style:{cursor:"pointer"}},null!==o&&o.length>1&&r.a.createElement(fe.a,{checked:this.state.selectedTrackers.length===o.length,color:"primary"})),r.a.createElement(ee.a,null,"Row #"),r.a.createElement(ee.a,null,"Device ID"),r.a.createElement(ee.a,null,"Mac ID"))),r.a.createElement(Y.a,null,o&&o.map(function(t){return r.a.createElement(ae.a,{key:t.macID,onClick:function(){return e.selectRow(t)},style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(fe.a,{checked:-1!==e.state.selectedTrackers.indexOf(t),color:"primary"})),r.a.createElement(ee.a,null,t.rowNumber),r.a.createElement(ee.a,null,t.deviceID),r.a.createElement(ee.a,null,t.macID))})))),null!==o&&r.a.createElement(q.a,{item:!0,style:{textAlign:"end"}},r.a.createElement(z.a,{variant:"contained",color:"primary",className:a.buttons,disabled:0===this.state.selectedTrackers.length,onClick:function(){return e.removeTrackers()}},"Forget"))))}}]),t}(r.a.Component);var Fe=Object(c.b)(function(e){return{commissioningData:e.app.commissioningData}},function(e){return{removeTrackers:function(t){e({type:"REMOVE_TRACKERS_REQUEST"}),oe.removeTrackers(t).then(function(a){e({type:"REMOVE_TRACKERS_SUCCESS",DIDs:t}),e({type:"GET_COMMISSIONING_DATA_REQUEST"}),oe.getCommissioningData().then(function(t){e({type:"GET_COMMISSIONING_DATA_SUCCESS",json:t})},function(t){e({type:"GET_COMMISSIONING_DATA_FAILURE",error:t})})},function(t){e({type:"REMOVE_TRACKERS_FAILURE"})})},setEditedTrackers:function(t){e({type:"SET_EDITED_TRACKERS",trackers:t})},setControlledTrackers:function(t){e({type:"SET_CONTROLLED_TRACKERS",trackers:t})}}})(Object(B.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700},buttons:{marginBottom:10,marginRight:10,marginTop:10}}})(Ge)),We=a(281),Qe=a(287),Be=a(265),Ze=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={selectedTrackers:[],scanSelection:"PAN ID"},a.selectAll=function(){a.state.selectedTrackers.length===a.props.xbeeResponse.length?a.setState({selectedTrackers:[]}):a.setState({selectedTrackers:Object(g.a)(a.props.xbeeResponse)})},a.selectRow=function(e){-1===a.state.selectedTrackers.indexOf(e)?a.setState({selectedTrackers:[].concat(Object(g.a)(a.state.selectedTrackers),[e])}):a.setState({selectedTrackers:Object(g.a)(a.state.selectedTrackers.filter(function(t){return t.id!==e.id}))})},a.handleChange=function(e){a.setState({scanSelection:e.target.value})},a.inputChange=function(e){a.setState({scanParameter:e.target.value})},a.scan=function(){"PAN ID"===a.state.scanSelection?a.props.discover("00000"):a.props.discover(a.state.scanParameter)},a.addTrackers=function(){a.props.addTrackers(a.state.selectedTrackers)},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,o=t.xbeeResponse;return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{container:!0,direction:"column"},r.a.createElement(q.a,{item:!0},r.a.createElement(Be.a,{component:"fieldset",className:a.formControl},r.a.createElement(Qe.a,{row:!0,"aria-label":"Scan",name:"scan",value:this.state.scanSelection,onChange:this.handleChange},r.a.createElement(ve.a,{value:"PAN ID",control:r.a.createElement(We.a,{color:"primary"}),label:"PAN ID"}),r.a.createElement(ve.a,{value:"Device ID",control:r.a.createElement(We.a,{color:"primary"}),label:"Device ID"})))),r.a.createElement(q.a,{item:!0,style:{marginBottom:24}},"PAN ID"===this.state.scanSelection?r.a.createElement(be.a,{id:"scanParameter",className:a.textField,value:this.state.scanParameter,onChange:this.inputChange,placeholder:"PAN ID",margin:"none",variant:"outlined"}):r.a.createElement(be.a,{id:"scanParameter",className:a.textField,value:this.state.scanParameter,onChange:this.inputChange,placeholder:"Device ID",margin:"none",variant:"outlined"}),r.a.createElement(z.a,{color:"primary",onClick:function(){return e.scan()},variant:"contained",style:{marginLeft:24,verticalAlign:"bottom"}},"Scan")),0!==o.length&&void 0!==o&&r.a.createElement(q.a,{item:!0},r.a.createElement($.a,{className:a.table},r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ee.a,{onClick:function(){return e.selectAll()},style:{cursor:"pointer"}},o.length>1&&void 0!==o&&r.a.createElement(fe.a,{checked:this.state.selectedTrackers.length===o.length&&0!==this.state.selectedTrackers.length,color:"primary"})),r.a.createElement(ee.a,null,"Row #"),r.a.createElement(ee.a,null,"Device ID"),r.a.createElement(ee.a,null,"Mac ID"))),r.a.createElement(Y.a,null,0!==o.length&&void 0!==o&&o.map(function(t){return r.a.createElement(ae.a,{key:t.DID,onClick:function(){return e.selectRow(t)},style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(fe.a,{checked:-1!==e.state.selectedTrackers.indexOf(t),color:"primary"})),r.a.createElement(ee.a,null,t.VALUES.split(",")[0]),r.a.createElement(ee.a,null,t.DID),r.a.createElement(ee.a,null,t.macID))})))),0!==o.length&&void 0!==o&&r.a.createElement(q.a,{item:!0,style:{textAlign:"end"}},r.a.createElement(z.a,{color:"primary",disabled:0===this.state.selectedTrackers.length,onClick:function(){return e.addTrackers()},variant:"contained",style:{margin:10}},"Add"))))}}]),t}(r.a.Component);var He=Object(c.b)(function(e){return{xbeeResponse:e.app.xbeeResponse}},function(e){return{discover:function(t){e({type:"DISCOVER_REQUEST"}),oe.discover(t).then(function(t){e({type:"DISCOVER_SUCCESS"})},function(t){e({type:"DISCOVER_FAILURE"})})},addTrackers:function(t){e({type:"ADD_TRACKERS_REQUEST"}),oe.addTrackers(t).then(function(a){e({type:"ADD_TRACKERS_SUCCESS",devices:t}),e({type:"GET_COMMISSIONING_DATA_REQUEST"}),oe.getCommissioningData().then(function(t){e({type:"GET_COMMISSIONING_DATA_SUCCESS",json:t})},function(t){e({type:"GET_COMMISSIONING_DATA_FAILURE",error:t})})},function(t){e({type:"ADD_TRACKERS_FAILURE"})})}}})(Object(B.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700},textField:{marginLeft:24},formControl:{marginLeft:24}}})(Ze)),Ve=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){a.props.changeTab({value:t})},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.currentTab;return r.a.createElement("div",{className:t.root},r.a.createElement(C.a,{position:"static",color:"secondary"},r.a.createElement(Se.a,{value:a,onChange:this.handleChange,classes:{indicator:t.tabsIndicator}},r.a.createElement(he.a,{label:"Paired Rows",classes:{selected:t.selected}}),r.a.createElement(he.a,{label:"Scan",classes:{selected:t.selected}}))),0===a&&r.a.createElement(Fe,null),1===a&&r.a.createElement(He,null))}}]),t}(r.a.Component);var Je=Object(c.b)(function(e){return{currentTab:e.app.currentTab}},function(e){return{changeTab:function(t){e({type:"CHANGE_TAB",value:t})}}})(Object(B.a)(function(e){return{root:{backgroundColor:e.palette.background.paper},tabsIndicator:{backgroundColor:"#54AAB3"},selected:{backgroundColor:"#54AAB3",color:"#ffffff",fontWeight:600,fontSize:14}}})(Ve)),Ke=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(q.a,{item:!0,xs:12,container:!0,direction:"column",justify:"center",alignItems:"center",className:e.root},r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"Network"),r.a.createElement(be.a,{className:e.field,id:"ssid",label:"SSID",value:this.state.ssid,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"password",label:"Password",value:this.state.password,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"staticIP",label:"Static IP",value:this.state.staticIP,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"Heart Beat"),r.a.createElement(be.a,{className:e.field,id:"heartbeatInterval",label:"Heart Beat Interval",value:this.state.password,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"heartbeatMaxMessages",label:"Heart Beat Max Messages",value:this.state.password,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"Big Query"),r.a.createElement(be.a,{className:e.field,id:"bqKey",label:"Big Query key",value:this.state.bqKey,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"PAN ID"),r.a.createElement(be.a,{className:e.field,id:"panID",label:"PAN ID",value:this.state.panID,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"Wind Sensor"),r.a.createElement(be.a,{className:e.field,id:"maxWindSpeed",label:"Max Wind Speed",value:this.state.maxWindSpeed,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"meanWindSpeed",label:"Mean Wind Speed",value:this.state.meanWindSpeed,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"windSpeedTimer",label:"Wind Speed Timer",value:this.state.windSpeedTimer,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"Flood Sensor"),r.a.createElement(be.a,{className:e.field,id:"maxFloodLevel",label:"Max FLood Level",value:this.state.maxFloodLevel,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"floodLevelTimer",label:"Flood level Timer",value:this.state.floodLevelTimer,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"Snow Sensor"),r.a.createElement(be.a,{className:e.field,id:"maxSnowLevel",label:"Max Snow Level",value:this.state.maxSnowLevel,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"snowLevelTimer",label:"Snow level Timer",value:this.state.snowLevelTimer,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Q.a,{variant:"h6",style:{textAlign:"center"}},"Rain Sensor"),r.a.createElement(be.a,{className:e.field,id:"maxRainLevel",label:"Max Rain Level",value:this.state.maxRainLevel,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{className:e.field,id:"rainLevelTimer",label:"Rain level Timer",value:this.state.rainLevelTimer,onChange:this.handleChange,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(z.a,{variant:"contained",color:"primary",className:e.saveButton},"Save")),r.a.createElement("div",{className:e.grid2},r.a.createElement(Be.a,{component:"fieldset",className:e.field},r.a.createElement(Qe.a,{row:!0,"aria-label":"Sync",name:"sync",value:this.state.syncTime,onChange:this.handleChange},r.a.createElement(ve.a,{value:"internet",control:r.a.createElement(We.a,{color:"primary"}),label:"Sync from internet"}),r.a.createElement(ve.a,{value:"scada",control:r.a.createElement(We.a,{color:"primary"}),label:"Sync from SCADA"})),r.a.createElement(z.a,{variant:"contained",color:"primary",style:{marginBottom:10}},"Sync")))))}}]),t}(r.a.Component);var ze=Object(c.b)(function(e){return{commissioningData:e.app.commissioningData}},function(e){return{setWifiInfo:function(t,a,n){e({type:"SET_WIFI_INFO"}),oe.setWifiInfo(t,a)}}})(Object(B.a)(function(e){return{root:Object(d.a)({backgroundColor:e.palette.background.paper},e.breakpoints.up("md"),{height:"660px"}),grid2:Object(d.a)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"90%"},e.breakpoints.up("md"),{width:"30%"}),field:Object(d.a)({width:"90%"},e.breakpoints.up("md"),{margin:"10px 0 0 0"}),saveButton:Object(d.a)({margin:"10px 10px 10px 5%",alignSelf:"start"},e.breakpoints.down("sm"),{width:"90%",margin:10,alignSelf:"center"})}})(Ke)),qe=a(284),Xe=a(272),$e=a(273),Ye=a(274),et=a(285),tt=a(279),at=a(286),nt=a(275),rt=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={selectedSensors:[],dialog:!1,which:"none",port:"",type:"",model:"",samplingPeriod:"",driverFile:"",driverFileName:"",enabled:[]},a.componentDidMount=function(){a.props.getSensors()},a.componentWillReceiveProps=function(e){e.sensors!==a.props.sensors&&void 0!==e.sensors&&a.setState(Object(p.a)({},a.state,{enabled:Object(g.a)(e.sensors.filter(function(e){return!0===e.enabled}))}))},a.selectAll=function(){a.state.selectedSensors.length===a.props.sensors.length?a.setState(Object(p.a)({},a.state,{selectedSensors:[]})):a.setState(Object(p.a)({},a.state,{selectedSensors:Object(g.a)(a.props.sensors)}))},a.selectSensor=function(e){0===a.state.selectedSensors.filter(function(t){return t.model===e.model&&t.type===e.type}).length?a.setState(Object(p.a)({},a.state,{selectedSensors:[].concat(Object(g.a)(a.state.selectedSensors),[e])})):a.setState(Object(p.a)({},a.state,{selectedSensors:Object(g.a)(a.state.selectedSensors.filter(function(t){return t.model!==e.model}))}))},a.addSensor=function(){a.setState(Object(p.a)({},a.state,{dialog:!0,which:"add"}))},a.editSensor=function(){a.setState(Object(p.a)({},a.state,{dialog:!0,which:"edit",port:a.state.selectedSensors[0].port,type:a.state.selectedSensors[0].type,model:a.state.selectedSensors[0].model,samplingPeriod:a.state.selectedSensors[0].samplingPeriod}))},a.removeSensor=function(){a.props.removeSensor(a.state.selectedSensors)},a.enable=function(e){0===a.state.enabled.filter(function(t){return t.model===e.model&&t.type===e.type}).length?(a.props.enableSensor(e.type,e.model),a.setState(Object(p.a)({},a.state,{enabled:[].concat(Object(g.a)(a.state.enabled),[e])}))):(a.props.disableSensor(e.type,e.model),a.setState(Object(p.a)({},a.state,{enabled:a.state.enabled.filter(function(t){return t!==e})})))},a.handleClose=function(){"edit"===a.state.which?(a.props.softRemoveSensor(a.state.selectedSensors),a.props.addSensor(a.state.port,a.state.type,a.state.model,a.state.samplingPeriod),a.props.uploadDriver(a.state.driverFile,a.state.type,a.state.model)):(a.props.addSensor(a.state.port,a.state.type,a.state.model,a.state.samplingPeriod),a.props.uploadDriver(a.state.driverFile,a.state.type,a.state.model)),a.setState(Object(p.a)({},a.state,{dialog:!1,which:"none"}))},a.handleChange=function(e){a.setState(Object(p.a)({},a.state,Object(d.a)({},e.target.name,e.target.value)))},a.handleSelectedFile=function(e){a.setState(Object(p.a)({},a.state,{driverFile:e.target.files[0],driverFileName:e.target.files[0].name}))},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;console.log(this.state);var t=this.props,a=t.classes,n=t.sensors;return r.a.createElement(q.a,{container:!0,direction:"column",className:a.root},r.a.createElement(q.a,{item:!0,style:{textAlign:"end"}},r.a.createElement(z.a,{color:"primary",variant:"contained",className:a.buttons,onClick:function(){return e.addSensor()}},"Add New"),this.state.selectedSensors.length>1?r.a.createElement(qe.a,{title:"Cannot edit multiple sensors at once. Please choose a single sensor to edit."},r.a.createElement("span",null,r.a.createElement(z.a,{color:"primary",variant:"contained",className:a.buttons,disabled:!0},"Edit"))):r.a.createElement(z.a,{color:"primary",variant:"contained",disabled:1!==this.state.selectedSensors.length,className:a.buttons,onClick:function(){return e.editSensor()}},"Edit")),r.a.createElement(q.a,{item:!0},r.a.createElement($.a,{className:a.table},r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ee.a,{onClick:function(){return e.selectAll()},style:{cursor:"pointer"}},n&&n.length>1&&r.a.createElement(fe.a,{checked:this.state.selectedSensors.length===this.props.sensors.length,color:"primary"})),r.a.createElement(ee.a,null,"Port #"),r.a.createElement(ee.a,null,"Sensor Type"),r.a.createElement(ee.a,null,"Model #"),r.a.createElement(ee.a,null,"Sampling Period"),r.a.createElement(ee.a,null,"Enabled"))),r.a.createElement(Y.a,null,n&&n.map(function(t){return r.a.createElement(ae.a,{key:t.port+t.type+t.model,style:{cursor:"pointer"}},r.a.createElement(ee.a,null,r.a.createElement(fe.a,{onClick:function(){return e.selectSensor(t)},checked:0!==e.state.selectedSensors.filter(function(e){return e.model===t.model&&e.type===t.type}).length,color:"primary"})),r.a.createElement(ee.a,null,t.port),r.a.createElement(ee.a,null,t.type),r.a.createElement(ee.a,null,t.model),r.a.createElement(ee.a,null,t.samplingPeriod),r.a.createElement(ee.a,null,r.a.createElement(Ie.a,{color:"primary",checked:0!==e.state.enabled.filter(function(e){return e.model===t.model&&e.type===t.type}).length,onClick:function(){return e.enable(t)}})))}))),n&&n.length>0&&r.a.createElement(q.a,{item:!0,style:{textAlign:"end"}},r.a.createElement(z.a,{color:"primary",variant:"contained",disabled:0===this.state.selectedSensors.length,className:a.buttons,onClick:function(){return e.removeSensor()}},"Remove"))),r.a.createElement(Xe.a,{open:this.state.dialog,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement($e.a,{id:"form-dialog-title"},"add"===this.state.which?"Add Sensor":"Edit Sensor"),r.a.createElement(Ye.a,null,r.a.createElement(Be.a,{variant:"outlined",className:a.formControl,fullWidth:!0,margin:"dense"},r.a.createElement(et.a,{htmlFor:"port"},"Port #"),r.a.createElement(tt.a,{value:this.state.port,onChange:this.handleChange,autoWidth:!0,input:r.a.createElement(at.a,{labelWidth:50,name:"port",id:"port"})},r.a.createElement(we.a,{value:"ADC48CH0"},"ADC48CH0 (Address: 0x48; Channel: 0)"),r.a.createElement(we.a,{value:"ADC48CH1"},"ADC48CH1 (Address: 0x48; Channel: 1)"),r.a.createElement(we.a,{value:"ADC48CH2"},"ADC48CH2 (Address: 0x48; Channel: 2)"),r.a.createElement(we.a,{value:"ADC48CH3"},"ADC48CH3 (Address: 0x48; Channel: 3)"),r.a.createElement(we.a,{value:"ADC49CH0"},"ADC49CH0 (Address: 0x49; Channel: 0)"),r.a.createElement(we.a,{value:"ADC49CH1"},"ADC49CH1 (Address: 0x49; Channel: 1)"),r.a.createElement(we.a,{value:"ADC49CH2"},"ADC49CH2 (Address: 0x49; Channel: 2)"),r.a.createElement(we.a,{value:"ADC49CH3"},"ADC49CH3 (Address: 0x49; Channel: 3)"),r.a.createElement(we.a,{value:"Modbus RTU"},"Modbus RTU"),r.a.createElement(we.a,{value:"GPIO11"},"GPIO11 (Pin 11)"),r.a.createElement(we.a,{value:"GPIO13"},"GPIO13 (Pin 13)"),r.a.createElement(we.a,{value:"GPIO15"},"GPIO15 (Pin 15)"))),r.a.createElement(Be.a,{variant:"outlined",className:a.formControl,fullWidth:!0,margin:"dense"},r.a.createElement(et.a,{htmlFor:"type"},"Sensor Type"),r.a.createElement(tt.a,{value:this.state.type,onChange:this.handleChange,autoWidth:!0,input:r.a.createElement(at.a,{labelWidth:100,name:"type",id:"type"})},r.a.createElement(we.a,{value:"wind"},"Wind Sensor"),r.a.createElement(we.a,{value:"snow"},"Snow Sensor"),r.a.createElement(we.a,{value:"flood"},"Flood Sensor"),r.a.createElement(we.a,{value:"rain"},"Rain Sensor"))),r.a.createElement(be.a,{fullWidth:!0,id:"model",name:"model",label:"Model #",value:this.state.model,onChange:this.handleChange,margin:"dense",variant:"outlined"}),r.a.createElement(be.a,{fullWidth:!0,id:"samplingPeriod",name:"samplingPeriod",label:"samplingPeriod",value:this.state.samplingPeriod,onChange:this.handleChange,margin:"dense",variant:"outlined"}),r.a.createElement("div",{style:{display:"flex",alignItems:"baseline"}},r.a.createElement(be.a,{id:"driverFile",label:"Driver File",helperText:"Upload Sensor Driver File",name:"driverFile",value:this.state.driverFileName,margin:"dense",variant:"outlined",fullWidth:!0}),r.a.createElement("input",{accept:"*",style:{display:"none"},id:"contained-button-file",type:"file",onChange:this.handleSelectedFile}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(z.a,{variant:"contained",color:"primary",component:"span",style:{margin:5}},"Browse")))),r.a.createElement(nt.a,null,r.a.createElement(z.a,{variant:"contained",onClick:this.handleClose,color:"primary"},"add"===this.state.which?"Add Sensor":"Save"))))}}]),t}(r.a.Component);var ot=Object(c.b)(function(e){return{sensors:e.app.sensors}},function(e){return{getSensors:function(){e({type:"GET_SENSORS_REQUEST"}),oe.getSensors().then(function(t){e({type:"GET_SENSORS_SUCCESS",json:t})},function(t){e({type:"GET_SENSORS_FAILURE"})})},addSensor:function(t,a,n,r){e({type:"ADD_SENSOR_REQUEST"}),oe.addSensor(t,a,n,r).then(function(t){e({type:"ADD_SENSORS_SUCCESS"}),e({type:"GET_SENSORS_REQUEST"}),oe.getSensors().then(function(t){e({type:"GET_SENSORS_SUCCESS",json:t})},function(t){e({type:"GET_SENSORS_FAILURE"})})},function(t){e({type:"ADD_SENSORS_FAILURE"})})},removeSensor:function(t){t.map(function(t){e({type:"REMOVE_SENSOR_REQUEST"}),oe.removeSensor(t.model,t.type).then(function(t){e({type:"REMOVE_SENSOR_SUCCESS"}),e({type:"GET_SENSORS_REQUEST"}),oe.getSensors().then(function(t){e({type:"GET_SENSORS_SUCCESS",json:t})},function(t){e({type:"GET_SENSORS_FAILURE"})})},function(t){e({type:"REMOVE_SENSOR_FAILURE"})})})},softRemoveSensor:function(t){t.map(function(t){e({type:"REMOVE_SENSOR_REQUEST"}),oe.removeSensor(t.model,t.type).then(function(t){e({type:"REMOVE_SENSOR_SUCCESS"})},function(t){e({type:"REMOVE_SENSOR_FAILURE"})})})},enableSensor:function(t,a){e({type:"ENABLE_SENSOR_REQUEST"}),oe.enableSensor(t,a).then(function(t){e({type:"ENABLE_SENSOR_SUCCESS"}),e({type:"GET_SENSORS_REQUEST"}),oe.getSensors().then(function(t){e({type:"GET_SENSORS_SUCCESS",json:t})},function(t){e({type:"GET_SENSORS_FAILURE"})})},function(t){e({type:"ENABLE_SENSOR_FAILURE"})})},disableSensor:function(t,a){e({type:"DISABLE_SENSOR_REQUEST"}),oe.disableSensor(t,a).then(function(t){e({type:"DISABLE_SENSOR_SUCCESS"}),e({type:"GET_SENSORS_REQUEST"}),oe.getSensors().then(function(t){e({type:"GET_SENSORS_SUCCESS",json:t})},function(t){e({type:"GET_SENSORS_FAILURE"})})},function(t){e({type:"DISABLE_SENSOR_FAILURE"})})},uploadDriver:function(t,a,n){e({type:"UPLOAD_DRIVER_FILE_REQUEST"}),oe.uploadDriver(t,a,n).then(function(t){e({type:"UPLOAD_DRIVER_FILE_SUCCESS"})},function(t){e({type:"UPLOAD_DRIVER_FILE_FAILURE"})})}}})(Object(B.a)(function(e){return{root:{width:"100%",height:"100%",overflowX:"auto",backgroundColor:"white"},table:{minWidth:700},buttons:{marginBottom:10,marginRight:10,marginTop:10}}})(rt)),ct=a(134),it=a(290),lt=a(145),st=a(135),ut=a.n(st),mt=a(137),dt=a.n(mt),gt=a(138),pt=a.n(gt),Et=a(141),St=a.n(Et),ht=a(139),ft=a.n(ht),bt=a(140),At=a.n(bt),vt=a(276),yt=a(136),Tt=a.n(yt),Ot={success:ut.a,warning:Tt.a,error:dt.a,info:pt.a};var Ct=Object(B.a)(function(e){return{success:{backgroundColor:ft.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:At.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,o=e.onClose,c=e.variant,i=Object(lt.a)(e,["classes","className","message","onClose","variant"]),l=Ot[c];return r.a.createElement(vt.a,Object.assign({className:[t[c],a],"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:[t.icon,t.iconVariant]}),n),action:[r.a.createElement(N.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(St.a,{className:t.icon}))]},i))}),kt=a(142),_t=a.n(kt),Dt=function(){return r.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#54aab3",color:"white"}},"INITIALIZING...")},Rt=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(y.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).queue=[],a.timer=null,a.state={open:!1,alert:null},a.componentDidMount=function(){a.props.init();var e=_t()("http://".concat(window.location.hostname,":8080"));e.on("connect",function(){console.log("connected")}),e.on("ui/rover/scan",function(e){var t=JSON.parse(e);a.props.received("ui/rover/scan",t)}),e.on("ui/rover/spa",function(e){var t=JSON.parse(e);a.props.received("ui/rover/spa",t)}),e.on("ui/rover/stowangles",function(e){var t=JSON.parse(e);a.props.received("ui/rover/stowangles",t)}),e.on("ui/rover/response",function(e){var t=JSON.parse(e);a.props.received("ui/rover/response",t)}),e.on("time",function(e){var t=JSON.parse(e);a.props.received("time",t)})},a.componentWillReceiveProps=function(e){null!==e.alert&&e.alert!==a.props.alert&&(a.queue.push(e.alert),a.state.open?a.setState({open:!1}):a.processQueue())},a.processQueue=function(){a.queue.length>0&&a.setState({alert:a.queue.shift(),open:!0})},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({open:!1})},a.handleExited=function(){a.processQueue()},a}return Object(O.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(K,null,"Dashboard"===this.props.currentPage?r.a.createElement(Ee,null):"Row Controller"===this.props.currentPage?r.a.createElement(Je,null):"Zone Controller"===this.props.currentPage?r.a.createElement(ze,null):"Sensors"===this.props.currentPage?r.a.createElement(ot,null):"About"===this.props.currentPage?r.a.createElement(ct.About,null):r.a.createElement(Dt,null)),r.a.createElement(it.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.open,onClose:this.handleClose,onExited:this.handleExited,classes:{anchorOriginTopCenter:e.topCenter}},r.a.createElement(Ct,{onClose:this.handleClose,variant:null===this.state.alert?"info":this.state.alert.type,message:null===this.state.alert?"":this.state.alert.message})))}}]),t}(r.a.Component);var Nt=Object(c.b)(function(e){var t=e.app;return{currentPage:t.currentPage,alert:t.alert,timeZone:t.timeZone}},function(e){return{init:function(){e({type:"GET_COMMISSIONING_DATA_REQUEST"}),oe.getCommissioningData().then(function(t){e({type:"GET_COMMISSIONING_DATA_SUCCESS",json:t})},function(t){e({type:"GET_COMMISSIONING_DATA_FAILURE",error:t})}),e({type:"GET_TIMEZONE_REQUEST"}),oe.getTimeZone().then(function(t){null===t.timeZone&&(e({type:"SET_TIMEZONE_REQUEST"}),oe.setTimeZone(b.getState().app.timeZone).then(function(t){e({type:"SET_TIMEZONE_SUCCESS"})},function(t){e({type:"SET_TIMEZONE_FAILURE"})})),e({type:"GET_TIMEZONE_SUCCESS",json:t})},function(t){e({type:"GET_TIMEZONE_FAILURE",error:t})})},getTime:function(){e({type:"GET_TIME_REQUEST"}),oe.getTime().then(function(t){e({type:"GET_TIME_SUCCESS",json:t})},function(t){e({type:"GET_TIME_FAILURE",error:t})})},clearAlert:function(){e({type:"CLEAR_ALERT"})},received:function(t,a){e({type:t,json:a})}}})(Object(B.a)(function(e){return{root:{height:"100%"},topCenter:{top:75}}})(Rt)),Pt=(a(204),Object(i.a)({palette:{primary:{main:"#54AAB3",dark:"#3c8f98",contrastText:"#ffffff"},secondary:{main:"#ffffff",contrastText:"#000000"}}}));Object(o.render)(r.a.createElement(l.a,{theme:Pt},r.a.createElement(c.a,{store:b},r.a.createElement(Nt,null))),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.cdf1063c.chunk.js.map